{"ast":null,"code":"var _jsxFileName = \"/Users/florianpohl/love-rooms-app/src/components/auth/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, Form, FormLayout, TextField, Button, Page, Layout, Banner, Select } from '@shopify/polaris';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    nom: '',\n    prenom: '',\n    civilite: '',\n    telephone: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const {\n    register\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleChange = (value, id) => {\n    setFormData(prev => ({\n      ...prev,\n      [id]: value\n    }));\n  };\n  async function handleSubmit(event) {\n    event.preventDefault();\n    if (formData.password !== formData.confirmPassword) {\n      setError('Les mots de passe ne correspondent pas');\n      return;\n    }\n    try {\n      setError('');\n      setLoading(true);\n      const {\n        success,\n        error\n      } = await register(formData.email, formData.password, {\n        nom: formData.nom,\n        prenom: formData.prenom,\n        civilite: formData.civilite,\n        telephone: formData.telephone\n      });\n      if (success) {\n        navigate('/dashboard');\n      } else {\n        setError(error || 'Échec de l\\'inscription');\n      }\n    } catch (error) {\n      setError('Échec de l\\'inscription : ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"Cr\\xE9er un compte\",\n    narrowWidth: true,\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(Layout.Section, {\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sectioned: true,\n          children: [error && /*#__PURE__*/_jsxDEV(Banner, {\n            status: \"critical\",\n            title: \"Erreur\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(FormLayout, {\n              children: [/*#__PURE__*/_jsxDEV(Select, {\n                label: \"Civilit\\xE9\",\n                options: [{\n                  label: 'Choisir',\n                  value: ''\n                }, {\n                  label: 'Monsieur',\n                  value: 'monsieur'\n                }, {\n                  label: 'Madame',\n                  value: 'madame'\n                }],\n                value: formData.civilite,\n                onChange: value => handleChange(value, 'civilite'),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                value: formData.nom,\n                onChange: value => handleChange(value, 'nom'),\n                label: \"Nom\",\n                autoComplete: \"family-name\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                value: formData.prenom,\n                onChange: value => handleChange(value, 'prenom'),\n                label: \"Pr\\xE9nom\",\n                autoComplete: \"given-name\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                value: formData.email,\n                onChange: value => handleChange(value, 'email'),\n                label: \"Email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                value: formData.telephone,\n                onChange: value => handleChange(value, 'telephone'),\n                label: \"T\\xE9l\\xE9phone\",\n                type: \"tel\",\n                autoComplete: \"tel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                value: formData.password,\n                onChange: value => handleChange(value, 'password'),\n                label: \"Mot de passe\",\n                type: \"password\",\n                autoComplete: \"new-password\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                value: formData.confirmPassword,\n                onChange: value => handleChange(value, 'confirmPassword'),\n                label: \"Confirmer le mot de passe\",\n                type: \"password\",\n                autoComplete: \"new-password\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                submit: true,\n                primary: true,\n                loading: loading,\n                children: \"S'inscrire\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"FQwkHGc36z8F8F4PB0+M1X6dcWE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","Card","Form","FormLayout","TextField","Button","Page","Layout","Banner","Select","useAuth","jsxDEV","_jsxDEV","Register","_s","formData","setFormData","email","password","confirmPassword","nom","prenom","civilite","telephone","error","setError","loading","setLoading","register","navigate","handleChange","value","id","prev","handleSubmit","event","preventDefault","success","message","title","narrowWidth","children","Section","sectioned","status","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","label","options","onChange","required","autoComplete","type","submit","primary","_c","$RefreshReg$"],"sources":["/Users/florianpohl/love-rooms-app/src/components/auth/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, Form, FormLayout, TextField, Button, Page, Layout, Banner, Select } from '@shopify/polaris';\nimport { useAuth } from '../../contexts/AuthContext';\n\nexport default function Register() {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n    confirmPassword: '',\n    nom: '',\n    prenom: '',\n    civilite: '',\n    telephone: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = (value, id) => {\n    setFormData(prev => ({ ...prev, [id]: value }));\n  };\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    \n    if (formData.password !== formData.confirmPassword) {\n      setError('Les mots de passe ne correspondent pas');\n      return;\n    }\n\n    try {\n      setError('');\n      setLoading(true);\n      const { success, error } = await register(\n        formData.email, \n        formData.password, \n        {\n          nom: formData.nom,\n          prenom: formData.prenom,\n          civilite: formData.civilite,\n          telephone: formData.telephone\n        }\n      );\n      \n      if (success) {\n        navigate('/dashboard');\n      } else {\n        setError(error || 'Échec de l\\'inscription');\n      }\n    } catch (error) {\n      setError('Échec de l\\'inscription : ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Page title=\"Créer un compte\" narrowWidth>\n      <Layout>\n        <Layout.Section>\n          <Card sectioned>\n            {error && (\n              <Banner status=\"critical\" title=\"Erreur\">\n                {error}\n              </Banner>\n            )}\n            <Form onSubmit={handleSubmit}>\n              <FormLayout>\n                <Select\n                  label=\"Civilité\"\n                  options={[\n                    {label: 'Choisir', value: ''},\n                    {label: 'Monsieur', value: 'monsieur'},\n                    {label: 'Madame', value: 'madame'}\n                  ]}\n                  value={formData.civilite}\n                  onChange={(value) => handleChange(value, 'civilite')}\n                  required\n                />\n                \n                <TextField\n                  value={formData.nom}\n                  onChange={(value) => handleChange(value, 'nom')}\n                  label=\"Nom\"\n                  autoComplete=\"family-name\"\n                  required\n                />\n                \n                <TextField\n                  value={formData.prenom}\n                  onChange={(value) => handleChange(value, 'prenom')}\n                  label=\"Prénom\"\n                  autoComplete=\"given-name\"\n                  required\n                />\n                \n                <TextField\n                  value={formData.email}\n                  onChange={(value) => handleChange(value, 'email')}\n                  label=\"Email\"\n                  type=\"email\"\n                  autoComplete=\"email\"\n                  required\n                />\n                \n                <TextField\n                  value={formData.telephone}\n                  onChange={(value) => handleChange(value, 'telephone')}\n                  label=\"Téléphone\"\n                  type=\"tel\"\n                  autoComplete=\"tel\"\n                />\n                \n                <TextField\n                  value={formData.password}\n                  onChange={(value) => handleChange(value, 'password')}\n                  label=\"Mot de passe\"\n                  type=\"password\"\n                  autoComplete=\"new-password\"\n                  required\n                />\n                \n                <TextField\n                  value={formData.confirmPassword}\n                  onChange={(value) => handleChange(value, 'confirmPassword')}\n                  label=\"Confirmer le mot de passe\"\n                  type=\"password\"\n                  autoComplete=\"new-password\"\n                  required\n                />\n                \n                <Button submit primary loading={loading}>\n                  S'inscrire\n                </Button>\n              </FormLayout>\n            </Form>\n          </Card>\n        </Layout.Section>\n      </Layout>\n    </Page>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,IAAI,EAAEC,IAAI,EAAEC,UAAU,EAAEC,SAAS,EAAEC,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,QAAQ,kBAAkB;AAC1G,SAASC,OAAO,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC;IACvCkB,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE,EAAE;IACnBC,GAAG,EAAE,EAAE;IACPC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM;IAAE6B;EAAS,CAAC,GAAGlB,OAAO,CAAC,CAAC;EAC9B,MAAMmB,QAAQ,GAAG7B,WAAW,CAAC,CAAC;EAE9B,MAAM8B,YAAY,GAAGA,CAACC,KAAK,EAAEC,EAAE,KAAK;IAClChB,WAAW,CAACiB,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACD,EAAE,GAAGD;IAAM,CAAC,CAAC,CAAC;EACjD,CAAC;EAED,eAAeG,YAAYA,CAACC,KAAK,EAAE;IACjCA,KAAK,CAACC,cAAc,CAAC,CAAC;IAEtB,IAAIrB,QAAQ,CAACG,QAAQ,KAAKH,QAAQ,CAACI,eAAe,EAAE;MAClDM,QAAQ,CAAC,wCAAwC,CAAC;MAClD;IACF;IAEA,IAAI;MACFA,QAAQ,CAAC,EAAE,CAAC;MACZE,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM;QAAEU,OAAO;QAAEb;MAAM,CAAC,GAAG,MAAMI,QAAQ,CACvCb,QAAQ,CAACE,KAAK,EACdF,QAAQ,CAACG,QAAQ,EACjB;QACEE,GAAG,EAAEL,QAAQ,CAACK,GAAG;QACjBC,MAAM,EAAEN,QAAQ,CAACM,MAAM;QACvBC,QAAQ,EAAEP,QAAQ,CAACO,QAAQ;QAC3BC,SAAS,EAAER,QAAQ,CAACQ;MACtB,CACF,CAAC;MAED,IAAIc,OAAO,EAAE;QACXR,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,MAAM;QACLJ,QAAQ,CAACD,KAAK,IAAI,yBAAyB,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOA,KAAK,EAAE;MACdC,QAAQ,CAAC,4BAA4B,GAAGD,KAAK,CAACc,OAAO,CAAC;IACxD,CAAC,SAAS;MACRX,UAAU,CAAC,KAAK,CAAC;IACnB;EACF;EAEA,oBACEf,OAAA,CAACN,IAAI;IAACiC,KAAK,EAAC,oBAAiB;IAACC,WAAW;IAAAC,QAAA,eACvC7B,OAAA,CAACL,MAAM;MAAAkC,QAAA,eACL7B,OAAA,CAACL,MAAM,CAACmC,OAAO;QAAAD,QAAA,eACb7B,OAAA,CAACX,IAAI;UAAC0C,SAAS;UAAAF,QAAA,GACZjB,KAAK,iBACJZ,OAAA,CAACJ,MAAM;YAACoC,MAAM,EAAC,UAAU;YAACL,KAAK,EAAC,QAAQ;YAAAE,QAAA,EACrCjB;UAAK;YAAAqB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACT,eACDpC,OAAA,CAACV,IAAI;YAAC+C,QAAQ,EAAEf,YAAa;YAAAO,QAAA,eAC3B7B,OAAA,CAACT,UAAU;cAAAsC,QAAA,gBACT7B,OAAA,CAACH,MAAM;gBACLyC,KAAK,EAAC,aAAU;gBAChBC,OAAO,EAAE,CACP;kBAACD,KAAK,EAAE,SAAS;kBAAEnB,KAAK,EAAE;gBAAE,CAAC,EAC7B;kBAACmB,KAAK,EAAE,UAAU;kBAAEnB,KAAK,EAAE;gBAAU,CAAC,EACtC;kBAACmB,KAAK,EAAE,QAAQ;kBAAEnB,KAAK,EAAE;gBAAQ,CAAC,CAClC;gBACFA,KAAK,EAAEhB,QAAQ,CAACO,QAAS;gBACzB8B,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,UAAU,CAAE;gBACrDsB,QAAQ;cAAA;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eAEFpC,OAAA,CAACR,SAAS;gBACR2B,KAAK,EAAEhB,QAAQ,CAACK,GAAI;gBACpBgC,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,KAAK,CAAE;gBAChDmB,KAAK,EAAC,KAAK;gBACXI,YAAY,EAAC,aAAa;gBAC1BD,QAAQ;cAAA;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eAEFpC,OAAA,CAACR,SAAS;gBACR2B,KAAK,EAAEhB,QAAQ,CAACM,MAAO;gBACvB+B,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,QAAQ,CAAE;gBACnDmB,KAAK,EAAC,WAAQ;gBACdI,YAAY,EAAC,YAAY;gBACzBD,QAAQ;cAAA;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eAEFpC,OAAA,CAACR,SAAS;gBACR2B,KAAK,EAAEhB,QAAQ,CAACE,KAAM;gBACtBmC,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,OAAO,CAAE;gBAClDmB,KAAK,EAAC,OAAO;gBACbK,IAAI,EAAC,OAAO;gBACZD,YAAY,EAAC,OAAO;gBACpBD,QAAQ;cAAA;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eAEFpC,OAAA,CAACR,SAAS;gBACR2B,KAAK,EAAEhB,QAAQ,CAACQ,SAAU;gBAC1B6B,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,WAAW,CAAE;gBACtDmB,KAAK,EAAC,iBAAW;gBACjBK,IAAI,EAAC,KAAK;gBACVD,YAAY,EAAC;cAAK;gBAAAT,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnB,CAAC,eAEFpC,OAAA,CAACR,SAAS;gBACR2B,KAAK,EAAEhB,QAAQ,CAACG,QAAS;gBACzBkC,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,UAAU,CAAE;gBACrDmB,KAAK,EAAC,cAAc;gBACpBK,IAAI,EAAC,UAAU;gBACfD,YAAY,EAAC,cAAc;gBAC3BD,QAAQ;cAAA;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eAEFpC,OAAA,CAACR,SAAS;gBACR2B,KAAK,EAAEhB,QAAQ,CAACI,eAAgB;gBAChCiC,QAAQ,EAAGrB,KAAK,IAAKD,YAAY,CAACC,KAAK,EAAE,iBAAiB,CAAE;gBAC5DmB,KAAK,EAAC,2BAA2B;gBACjCK,IAAI,EAAC,UAAU;gBACfD,YAAY,EAAC,cAAc;gBAC3BD,QAAQ;cAAA;gBAAAR,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC,eAEFpC,OAAA,CAACP,MAAM;gBAACmD,MAAM;gBAACC,OAAO;gBAAC/B,OAAO,EAAEA,OAAQ;gBAAAe,QAAA,EAAC;cAEzC;gBAAAI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEX;AAAClC,EAAA,CA1IuBD,QAAQ;EAAA,QAYTH,OAAO,EACXV,WAAW;AAAA;AAAA0D,EAAA,GAbN7C,QAAQ;AAAA,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}